\chapter{Current State of Research}
\label{chap:currentState}

\paragraph{}
In this chapter, we would like to present some known results regarding transformation devices in general and their complexity aspects.

\section{Basic Properties of A-transducers}
\paragraph{}
This section contains few basic results from \cite{gin:AATPFL}.

\paragraph{}
\clema $\R $ and $\CF $ are closed under a-transduction.

\paragraph{}
\dokaz Let $M$ be an A-transducer and $L$ a regular (context-free) language. We use the alternative definition of the of image $L$:\\
\centerline{$M(L) = \{ pr_{2}(pr_{1}^{-1}(w) \cap \Pi_{M}) | w \in L \}$} \\
Since $\Pi_{M}$ is regular and both classes, of regular and of context-free languages are closed under intersection with a regular language, homomorphism and inverse homomorphism (\cite{hopcroft:fola}), they are also closed under a-transduction. \square

\paragraph{}
\cdosledok Since sequential transducers and generalized sequential machines are just special forms of an A-transducer, this lemma also holds for these devices.

\paragraph{}
In previous chapter, we have defined a special class of 1-bounded A-transducers. Following theorem shows, that this limitation forms a normal form.

\paragraph{}
\clema Let $M_{1}$ be an arbitrary A-transducer. Then there exists a 1-bounded A-transducer $M_{2}$, such that $\forall L: M_{1}(L) = M_{2}(L)$.

\paragraph{}
\dokaz Let $(q, u, v, p) \in H_{1}, u \equiv a_{1}a_{2}...a_{m}, v \equiv b_{1}b_{2}...b_{n}$. Let $m\geq n$ (for $m < n$ the proof is very similar). $M_{2}$ will have states $q, q_{a_{1}}, q_{a_{2}}, ..., q_{a_{n-1}}, q_{a_{n}} \equiv p$ and transitions in form $(q_{a_{i}}, a_{i+1}, b_{i+1}, q_{a_{i+1}})$ for $1 \leq i<n$, resp. $(q_{a_{j}}, a_{j+1}, \epsilon, q_{a_{j+1}})$ for $n \leq j < m$. This will be done for every $h \in H$. It is easy to see, that the a-transduction by $M_{1}$ and $M_{2}$ is the same and therefore $\forall L: M_{1}(L) = M_{2}(L)$. \square

\paragraph{}
As one can see, this construction can increase the number of states of an A-transducer by a constant multiple. Sometimes it is more convenient to consider only 1-bounded A-transducer, since its complexity can be easier compared with other computational models.

\paragraph{}
In the next section, we quote results regarding the question, when it is possible to transform one language to another using an A-transducer. The next theorem gives us another view of this problem using the theory of language families.

\paragraph{}
\clema For every two ($\epsilon $-free) A-transducers $M_{1}$ and $M_{2}$ there exists an ($\epsilon $-free) A-transducer $M_{3}$ such that $\forall L: M_{3}(L) = M_{2}(M_{1}(L))$.

\paragraph{}
\dokaz We show just the idea of the proof: We may assume that $M_{1}$ and $M_{2}$ are 1-bounded. $M_{3}$ simulates both of the A-transducers concurrently (so its internal state have the form $(q \times p)$), reads the input according to transition function of $M_{1}$ and writes the corresponding output of $M_{2}$, while the output of $M_{1}$ forms the input of $M_{2}$. It is easy to see, that $\forall L: M_{3}(L) = M_{2}(M_{1}(L))$. \square

\paragraph{}
\clema For every ($\epsilon $-free) homomorphism $h: \Sigma_{1}^{*} \rightarrow \Sigma_{2}^{*}$ there is an ($\epsilon $-free) A-transducer $M$, such that $\forall L: M(L) = h(L)$.

\paragraph{}
\dokaz The A-transducer $M=(K, \Sigma_{1}, \Sigma_{2}, H, q_{0}, F)$ will look as follows:
\begin{itemize}
\item $K = F = \{ q \}$,
\item $q_{0} = q$,
\item $H = \{ (q, a, h(a), q) | a \in \Sigma_{1} \}$. \square
\end{itemize}

\paragraph{}
\clema For every homomorphism $h$ there is an A-transducer $M$, such that $\forall L: M(L) = h^{-1}(L)$.

\paragraph{}
\dokaz As in previous Lemma, except $H = \{ (q, h(a), a, q) | a \in \Sigma_{1} \}$. \square

\paragraph{}
\clema For every $R \in \R $, there exists an $\epsilon $-free A-transducer $M$, such that $M(L) = L \cap R$.

\paragraph{}
\dokaz Let $A = (K, \Sigma, q_{0}, \delta, F)$ be a non-deterministic finite automaton, such that $L(A) = R$. Then $M=(K, \Sigma, \Sigma, H, q_{0}, F)$, where $H=\{ (q, a, a, \delta (q,a)) | q \in K, a \in \Sigma \} $. \square

\paragraph{}
\oznacenie For each family $\mathcal{L} $ of languages, \\
\centerline{$\mathcal{M(L)} = \{ M(L) | L \in \mathcal{L}, M$ is an $\epsilon $-free A-transducer$\} $} \\
\centerline{$\mathcal{\hat{M}(L)} = \{ M(L) | L \in \mathcal{L}, M$ is an arbitrary A-transducer$\} $}

\paragraph{}
\cveta For each family $\mathcal{L} $ of languages, $\mathcal{M(L)} $ $(\mathcal{\hat{M}(L)}) $ is the smallest (full) trio containing $\mathcal{L} $.

\paragraph{}
\dokaz Once again, we use the alternative definition of the image of $L$, $M(L) = \{ pr_{2}(pr_{1}^{-1}(w) \cap \Pi_{M} | w \in L \}$. Considering previous lemmas, $\mathcal{M(L)} $ $(\mathcal{\hat{M}(L)}) $ is clearly a (full) trio (note, that if $M$ is $\epsilon $-free, $pr_{2}$ is also $\epsilon $-free).

\paragraph{}
Now, let $\mathcal{L'} $ be a (full) trio containing $\mathcal{L} $. Obviously, $\mathcal{L'} $ also contains $\mathcal{M(L)} $ $(\mathcal{\hat{M}(L)}) $, since it has to be closed under ($\epsilon $-free) homomorphism, inverse homomorphism and intersection with a regular language. Therefore, $\mathcal{M(L)} $ $(\mathcal{\hat{M}(L)}) $ is the smallest (full) trio containing $\mathcal{L} $. \square

\paragraph{}
\oznacenie If $\mathcal{L}$ is a single language, we write $\mathcal{M}(L)$ instead of $\mathcal{M}(\{ L\} )$.

\paragraph{}
In fact, it was shown in \cite{gingrei:pAFL}, that $\mathcal{M}(L) $ $(\mathcal{\hat{M}}(L)) $ is the smallest (full) semi-AFL containing language L.

\section{State Complexity of Finite State Devices}
\paragraph{}
The topic of descriptional complexity of finite state devices has been widely researched in connection with finite state automata. Some results have been introduced also for sequential transducers, but the complexity of A-transducers has been on the periphery of interest. For this reason, this section contains the achievements for simpler devices, which can be later useful when dealing with our main model, an A-transducer.

\subsection{Finite State Automata}
\paragraph{}
We would like to occupy ourselves with the question, what is the lower bound of state count needed to accept a language $L$. Or, otherwise stated, what is the relation between the properties of a regular language and the minimal state size of its finite automaton?

\paragraph{}
For deterministic finite automaton, the answer was given by Nerode in \cite{Nerode:LAT}. We present his result in a slightly modified form, which suits better for our purposes.

\paragraph{}
\cveta Let $L$ be a regular language over alphabet $\Sigma $. Let $R_{L}$ be a relation on strings from $\Sigma ^{*}$ defined as follows: \\
\centerline{$xR_{L}y \Leftrightarrow \forall z \in \Sigma ^{*}: xz \in L \leftrightarrow yz\in L$.}\\
Let $k$ be a number of equivalence classes of $R_{L}$. If $A$ is a deterministic finite automaton accepting $L$, then $A$ has at least $k$ states.

\paragraph{}
\dokaz Let $A = (K, \Sigma , \delta , q_{0}, F)$. We can construct a relation $R'$ based on automaton $A$ as follows: \\
\centerline{for $x, y \in \Sigma ^{*}$, $x R' y \Leftrightarrow \delta (q_{0}, x) = \delta (q_{0}, y)$.} \\
Since $A$ is deterministic, it is easy to see, that $\forall z \in \Sigma ^{*}: xR'y \Leftrightarrow xzR'yz$. Moreover, the number of its equivalence classes is exactly the number of reachable states of $A$. Now, we will show, that the relation $R'$ is a refinement of $R_{L}$ (i. e. each equivalence class of $R'$ is contained in a equivalence class of $R_{L}$).

\paragraph{}
Assume $xR'y$. As stated before, also $xzR'yz$. That means, that $\delta (q_{0}, xz) \in F) \Leftrightarrow \delta (q_{0}, yz)$ and therefore $xR_{L}y$. It follows, that whole equivalence class of $R'$ containing $x$ (later noted as $[x]$) is a subclass of an equivalence class of $R_{L}$ and hence $R'$ has not less equivalence classes than $R_{L}$. \square

\paragraph{}
Important observation is, that this lower bound is tight, i. e. there really exists a DFA $A'$ accepting $L$ with $k$ states. We can construct is from relation $R_{L}$ as $A'=(K', \Sigma , \delta ', q'_{0}, F')$:
\begin{itemize}
\item $K'$ is the set of equivalence classes of $R_{L}$, 
\item $\delta ([x], a) = [xa]$,
\item $q'_{0} = [\epsilon ]$,
\item $F' = \{ [z] | z \in L \}$.
\end{itemize}
It is easy to see, that this $L(A') = L$ and $A'$ has exactly $k$ states.

\paragraph{}
Similar result was achieved for non-deterministic automata. However, its lower bound is not always tight (i. e. sometimes the minimal number of states of NFA is even bigger) and moreover, it is not practically computable, since the problem, if there is a NFA with $\leq k$ states equivalent to a given DFA is $PSPACE$-complete (\cite{rav:minNFA}). Following theorem was introduced in \cite{gla:low}.

\paragraph{}
\cveta Let $L \subseteq \Sigma ^{*}$ be a regular language and suppose there exists a set of pairs $P=\{ (x_{i}, w_{i}): 1 \leq i \leq n\} $ such that
\begin{enumerate}
\item $x_{i}w_{i} \in L$ for $1 \leq i \leq n$,
\item $x_{j}w_{i} \notin L$ for $1 \leq i,j \leq n$ and $i \neq j$.
\end{enumerate}
Then any non-deterministic finite automaton accepting $L$ has at least $n$ states.

\paragraph{}
\dokaz Let $A=(K, \Sigma, \delta, q_{0}, F)$ be a NFA accepting $L$. Now, let $S = \{ q | \exists i, 1\leq i \leq n: \delta (q_{0}, x_{i}) \ni q \} $. For every $i$, there must by a state $p_{i} \in S$, such that $p_{i} \in \delta (p_{0}, x_{i})$ and $\delta (p_{i}, w_{i}) \cap F \neq \emptyset $ (since $x_{i}w_{i} \in L$).

\paragraph{}
Now it is sufficient to show, that all states $p_{i}$ are distinct. Indeed, if $p_{i} = p_{j}$, then $\delta (p_{i}, w_{i}) = \delta (p_{j}, w_{i})$. Especially, $\delta (p_{i}, w_{i}) \cap F \neq \emptyset \Leftrightarrow \delta (p_{j}, w_{i}) \cap F\neq \emptyset $. It follows, that $x_{j}w_{i} \in L$, which is contradiction with definition of $P$.

\paragraph{}
Since $|S| \geq n$, $A$ has at least $n$ states. \square

\subsection{Sequential Transducers}
The natural question arises, how can be these results extended if we add an output function, in other words, what is the lower bound for number of states of an (sequential, a-) transducer, which transforms a language $L_{1}$ to a language $L_{2}$? Unfortunately, we do not have a answer in such a general form yet. However, in the case of sequential transducers, in \cite{moh:min} was given an answer to a simplified question: what is the minimal number of states of a sequential transducers representing a sequential function?

\paragraph{}
\oznacenie If $f$ is a sequential function (see Chapter 1), we denote
\begin{itemize}
\item $Dom(f)$ is a set of strings $w$, for which $f(w)$ is defined,
\item $D(f) = \{ u \in \Sigma ^{*} | \exists w \in \Sigma ^{*}: uw \in Dom(f) \} $.
\end{itemize}

\paragraph{}
\oznacenie By $\setminus $ we denote the operation of a left quotient.

\paragraph{}
\definicia For a sequential function $f$  we define a relation $R_{f}$ on $D(f)$ as follows:\\
$\forall (u, v) \in D(f) \times D(f): u R_{f} v \iff$ \\
\centerline{$\exists (x, y) \in \Sigma_{2}^* \times \Sigma_{2}^*: \forall w \in \Sigma_{1}^{*}, uw \in Dom(f) \Leftrightarrow vw \in Dom(f) \wedge $}\\
\centerline{$\wedge uw \in Dom(f) \Rightarrow x\setminus f(uw) = y\setminus f(vw)$.}

\paragraph{}
\cveta A number of states of a sequential transducer $M$ representing a sequential function $f$ is greater or equal to a number of equivalence classes of $R_{f}$.

\paragraph{}
\dokaz Let $M=(K, \Sigma_{1}, \Sigma_{2}, \delta, \sigma, q_{0}, F)$. Choosing $x = \sigma (q_{0}, u)$ and $y = \sigma (q_{0}, v)$, it is easy to see, that\\
\centerline{$\forall (u,v) \in D(f) \times D(f), \delta (q_{0}, u) = \delta (q_{0}, v) \Rightarrow u R_{f} v$.}\\
Moreover, $\delta (q_{0}, u) = \delta (q_{0}, v)$ also defines an equivalence relation on $D(f)$. As we can see, this relation is just a special case of $R_{f}$, which means, that its number of equivalence classes (ergo the number of states of $M$) is greater or equal to the number of equivalence classes of $R_{f}$. \square

\paragraph{}
It was also shown, that this lower bound is tight, i. e. there is a sequential transducer realizing $f$ with $|K|$ equal to number of equivalence classes of $R_{f}$. However, we do not induct the proof of this claim, since it is quite technical and is not of vast relevance itself.

\paragraph{}
As mentioned before, we do not know, how can be this result applied to a couple of languages $L_{1}$ and $L_{2}$, if we do not have the exact sequential function transforming the former to the latter.

\section{Decompositions of finite automata}

\paragraph{}
ToDo: results from Gazi about SB, ASB and advisors (necessary and sufficient conditions, maybe closure properties etc.).
\paragraph{}
