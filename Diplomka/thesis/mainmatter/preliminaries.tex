\chapter{Preliminaries}
\label{chap:Preliminaries}

\paragraph{}
In this section, we would like to clarify some basic notations and terminology used in our thesis.

\section{Basic concepts and notation}

%\paragraph{}
%\definicia An \emph{alphabet} is a finite (if not otherwise stated) set of symbols, usually denoted as $\Sigma $. We usually denote members of $\Sigma $ by smallcase letters %from the beginning of the english alphabet, such as $a, b, a_{1}, a_{2},$ etc.

%\paragraph{}
%\definicia A \emph{word} over alphabet $\Sigma $ is a finite sequence of symbols from $\Sigma $. The words are usually denoted by smallcase letters from the end of the english alphabet, such as $u, w, u_{1},$ etc, where e. g. $w \equiv a_{1}a_{2}...a_{n}$ means, that $w$ is formed by a sequence of symbols $a_{1}, a_{2}$ through $a_{n}$.

%\paragraph{}
%\definicia A \emph{language} is any (finite or infinite) set of words over an alphabet $\Sigma $.

\paragraph{}
\oznacenie We denote 
\begin{itemize}
\item by $\epsilon $ an empty string,
\item by $|w|$ the length of a word $w$ ($|\epsilon |=0$),
\item by $|A|$ the number of elements of a finite set (or a finite language) $A$,
\item by $\# _{a}(w)$ the number of symbols $a$ in a word $w$,
\item if $u \equiv a_{1}a_{2}...a_{m}$, $v \equiv b_{1}b_{2}...b_{n}$, then by $u.v$ or simply $uv$ we denote a word $a_{1}a_{2}...a_{m}b_{1}b_{2}...b_{n}$,
\item by $A^{+}$ we denote a transitive closure of $A$, by $A^{*}$ a reflexive-transitive closure of $A$.
\end{itemize}

\paragraph{}
\definicia A \emph{family of languages} is an ordered pair $(\Sigma ,\mathcal{L} )$, such that
\begin{enumerate}
\item $\Sigma $ is an infinite set of symbols
\item every $L\in \mathcal{L} $ is a language over some finite set $\Sigma ^{*} \subset \Sigma $
\item $L \neq \es $ for some $L \in \mathcal{L} $
\end{enumerate}

\paragraph{}
\definicia A \emph{homomorphism} is a function $h: \Sigma_{1}^{*} \rightarrow \Sigma_{2}^{*}$, such that \\	
\centerline{$h(uv) = h(u)h(v)$}

\paragraph{}
\oznacenie If $\forall w \neq \epsilon : h(w) \neq \epsilon $, we call $h$ an \emph{$\epsilon $-free homomorphism} and denote it by $h_{\epsilon }$.

\paragraph{}
\oznacenie For a set $A$, $2^{A}$ is the set of all subsets of $A$.

\paragraph{}
\definicia An \emph{inverse homomorphism} is a function $h^{-1}: \Sigma_{1}^{*} \rightarrow 2^{\Sigma_{2}^{*}}$, such that $h$ is a homomorphism and \\
\centerline{$h^{-1}(u) = \{ v | h(v) = u \} $}

\paragraph{}
\definicia A family of languages is called a \emph{(full) trio}, if it is closed under $\epsilon $-free (arbitrary) homomorphism, inverse homomorphism and intersection with a regular set.

\paragraph{}
\definicia A (full) trio is called a \emph{(full) semi-AFL}, if it is closed under union.

\paragraph{}
\definicia A (full) semi-AFL is called a \emph{(full) AFL}, if it is closed under concatenation and $+$.

\paragraph{}
We now characterize two common used families of language, included in a Chomsky hierarchy, to make clear the notation in this thesis.

\paragraph{}
\oznacenie The family of \emph{regular languages}, denoted by $\R $, is the family of all languages generated by a type 3 grammar or accepted by a deterministic finite automaton (see e. g. \cite{hopcroft:fola} for full definition).

\paragraph{}
\oznacenie The family of \emph{context free languages}, denoted by $\CF $, is the family of all languages generated by a type 2 grammar or accepted by a pushdown finite automaton (see e. g. \cite{hopcroft:fola} for full definition).

\section{Transformation models}
\paragraph{}
Now we would like to define some of the models mentioned in the introduction. Although the central point of our interest is an a-transducer, we also introduce the definitions of other models, which will be used in the next chapter, because they can give us an insight of language transformations in general and many of the concepts used in results involving them can be put to use by examination of a-transducers.

\paragraph{}
Since a-transducer is most general type of transducer, we define it first and then we only specify the differences between a-transducers and other models.

\paragraph{}
\definicia An \emph{a-transducer} is a 6-tuple $M=(K, \Sigma_{1}, \Sigma_{2}, H, q_{0}, F)$, where
\begin{itemize}
\item $K$ is a finite set of states,
\item $\Sigma_{1} $ and $\Sigma_{2} $ are the input and output alphabet, respectively,
\item $H \subseteq K \times \Sigma_{1}^{*} \times \Sigma_{2}^{*} \times K$ is the transition function, where $H$ is finite,
\item $q_{0} \in K$ is the initial state,
\item $F \subseteq K$ is a set of accepting states.
\end{itemize}
If $H \subseteq K \times \Sigma_{1}^{*} \times \Sigma_{2}^{+} \times K$, we call $M$ an \emph{$\epsilon $-free} a-transducer.

\paragraph{}
\definicia If $H \subseteq K \times \Sigma_{1} \cup \{ \epsilon \} \times \Sigma_{2} \cup \{ \epsilon \} \times K$, the corresponding a-transducer is called \emph{1-bounded}.

\paragraph{}
\definicia The \emph{configuration} of an a-transducer is a triple $(q, u, v)$, where $q \in K$ is a current internal state, $u \in \Sigma_{1}^{*}$ is the remaining part of the input and $v$ is the already written output.

\paragraph{}
\definicia A \emph{computational step} is a relation $\KV$ on configurations defined as follows: \\
\centerline{$(q, xu, v) \KV (p, u, vy) \Leftrightarrow (q, x, y, p) \in H$.}

\paragraph{}
\definicia An \emph{image} of language $L$ by a-transducer $M$ is a set \\
\centerline{$M(L) = \{ w|\exists u \in L, q_{F} \in F; (q_{0}, u, \epsilon) \V (q_{F}, \epsilon, w) \} $}

\paragraph{}
\definicia For $i=0,1,2,3, w \equiv (x_{0},x_{1},x_{2},x_{3}) \in H$, we define $pr_{i}(w) = x_{i}$ and call $pr_{i}$ an \emph{$i$-th projection} .

\paragraph{}
\definicia A \emph{computation} of an a-transducer $M$ is a word $h_{0}h_{1}...h_{m} \in H^{*}$, such that
\begin{enumerate}
\item $pr_{0}(h_{0}) = q_{0}$ ($q_{0}$ is the initial state of $M$),
\item $\forall i: pr_{3}(h_{i}) = pr_{0}(h_{i+1})$
\item $pr_{3}(h_{m}) \in F$
\end{enumerate}

\paragraph{}
\oznacenie We denote a language of all computations of $M$ by $\Pi_{M}$. Note, that $\Pi_{M}$ is regular (\cite{gin:AATPFL}).

\paragraph{}
\definicia Alternatively, we can define an image of $L$ by an a-transducer $M$ as \\
\centerline{$M(L) = \{ pr_{2}(pr_{1}^{-1}(w) \cap \Pi_{M} | w \in L \}$.}

\paragraph{}
\definicia An \emph{a-transduction} is a function $\Phi : \Sigma_{1}^{*} \rightarrow 2^{\Sigma_{2}^{*}}$ defined as follows: \\
\centerline{$\forall x \in \Sigma_{1}^{*}: \Phi(x) = \{ M(x) \} $}.

\paragraph{}
We have described the core model of our thesis, namely an a-transducer, and now we define two similar, but simpler models.

\paragraph{}
\definicia A \emph{sequential transducer} is a 7-tuple $M=(K, \Sigma_{1}, \Sigma_{2}, \delta, \sigma, q_{0}, F)$, where
\begin{itemize} 
\item $K, \Sigma_{1}, \Sigma_{2}, q_{0}, F$ are like in an a-transducer,
\item $\delta $ is a transition function, which maps $K \times \Sigma_{1} \rightarrow K$,
\item $\sigma $ is an output function, which maps $K \times \Sigma_{1} \rightarrow \Sigma_{2}^{*} $.
\end{itemize}

\paragraph{} 
A sequential transducer can be seen as a "deterministic" 1-bounded a-transducer, which set $H$ fulfills following conditions:
\begin{enumerate}
\item for every couple $(q, a) \in K \times \Sigma_{1}$, there is exactly one element $h \in H$, such that $pr_{0}(h) = q$ and $pr_{1}(h) = a$,
\item $\forall h \in H: pr_{1}(h) \neq \epsilon \wedge pr_{2}(h) \neq \epsilon $.
\end{enumerate}

\paragraph{}
\oznacenie By $\hat{\delta}$ and $\hat{\sigma}$ we denote an extension of $\delta $ ($\sigma $) on $K \times \Sigma_{1}^{*} $, defined recursively as \\
$\forall q \in K, w \in \Sigma_{1}^{*}, a \in \Sigma_{1}:$ \\
\begin{itemize} 
\item $\hat{\delta}(q, a) = \delta (q,a)$, $\hat{\delta}(q,wa) = \delta (\hat{\delta}(q, w), a)$,
\item $\hat{\sigma}(q, a) = \sigma (q,a)$, $\hat{\sigma}(q,wa) = \sigma (\hat{\delta}(q, w), a)$.
\end{itemize}

\paragraph{}
We omit the definitions of a configuration, computational step and image related to sequential transducers, since they are very similar to the a-transducer.

\paragraph{}
\definicia A \emph{sequential function} is a function represented by a sequential transducer. Formally, if $M=(K, \Sigma_{1}, \Sigma_{2}, \delta, \sigma, q_{0}, F)$ is a sequential transducer, then \\
\centerline{$\forall w \in \Sigma_{1}^{*}$, s. t. $\hat{\delta}(q_{0}, w) \in F$: $f_{M}(w) = \hat{\sigma}(q_{0}, w)$}.

\paragraph{}
We conclude this section with a definition of one more model, which can be viewed as a generalization of a sequential transducers.

\paragraph{}
\definicia A \emph{generalized sequential machine (gsm)} is a 6-tuple $M=(K, \Sigma_{1}, \Sigma_{2}, \delta, \sigma, q_{0})$, where $K, \Sigma_{1}, \Sigma_{2}, \delta, \sigma, q_{0}$ are as in sequential transducer.

\paragraph{}
As one can see, a generalized sequential machine is a sequential transducer with $F \equiv K$ and therefore all other concepts are defined just like in a sequential transducer.

\paragraph{}
\oznacenie A sequential function described by a generalized sequential machine is called a \emph{gsm mapping}.

\paragraph{}
